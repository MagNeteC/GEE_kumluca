/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var yanmis = /* color: #d63000 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[30.330130615924872, 36.383005833810984],
                  [30.32995895454792, 36.38196933151067],
                  [30.331246414875068, 36.38162382767382],
                  [30.331847229694404, 36.3827294345484]]]),
            {
              "class": 1,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[30.3437836948101, 36.38324768235983],
                  [30.343612033433146, 36.3824184842037],
                  [30.345114070481486, 36.38217663307596],
                  [30.345328647202678, 36.383005833810984]]]),
            {
              "class": 1,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[30.336985384487093, 36.37779718107851],
                  [30.33655623104471, 36.37665695142473],
                  [30.338229929470003, 36.37593134203278],
                  [30.338744913600863, 36.37720979213226]]]),
            {
              "class": 1,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[30.346140993138647, 36.3743543210218],
                  [30.34584058572898, 36.373352257560555],
                  [30.34757865717063, 36.37302399258526],
                  [30.34781469156394, 36.37407789101147]]]),
            {
              "class": 1,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[30.368212211948958, 36.382592651370246],
                  [30.36786888919505, 36.3812451885264],
                  [30.37065838657054, 36.380796029056754],
                  [30.371044624668684, 36.38224715030274]]]),
            {
              "class": 1,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[30.358690059062383, 36.37992913113391],
                  [30.358625686046025, 36.37915172494806],
                  [30.359591281291387, 36.379048070202806],
                  [30.359655654307744, 36.37989457991289]]]),
            {
              "class": 1,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[30.3525122256915, 36.39676630787999],
                  [30.352147445265473, 36.395937253898985],
                  [30.35322032887143, 36.39579907737573],
                  [30.353628024641694, 36.39659358902986]]]),
            {
              "class": 1,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[30.332191810194672, 36.39481456253741],
                  [30.33197723347348, 36.39402003269818],
                  [30.333178863112153, 36.3938473077454],
                  [30.333436355177582, 36.394469115779124]]]),
            {
              "class": 1,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[30.35559182032614, 36.37310689490882],
                  [30.355398701277068, 36.371983873872544],
                  [30.356450127210906, 36.371983873872544],
                  [30.356535957899382, 36.37296867781]]]),
            {
              "class": 1,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[30.385260362292, 36.397515497692225],
                  [30.38528181996412, 36.39665190792782],
                  [30.38629033055372, 36.396634636034655],
                  [30.3862688728816, 36.39746368257695]]]),
            {
              "class": 1,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[30.36851081262114, 36.39124247724155],
                  [30.368188947539352, 36.390361544494],
                  [30.36919745812895, 36.39013699141274],
                  [30.3694764078665, 36.39112156549469]]]),
            {
              "class": 1,
              "system:index": "10"
            })]),
    yanmamis = /* color: #98ff00 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[30.35851584128386, 36.33725261683095],
                  [30.358086687841478, 36.33517837939986],
                  [30.36126242331511, 36.334832667791424],
                  [30.36151991538054, 36.33725261683095]]]),
            {
              "class": 0,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[30.312017176721724, 36.32280831397842],
                  [30.311931346033248, 36.320249605565756],
                  [30.314763758752974, 36.31997298340847],
                  [30.31459209737602, 36.32246254748022]]]),
            {
              "class": 0,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[30.47213582314646, 36.30820702612387],
                  [30.472564976588842, 36.30627035126849],
                  [30.475654881374, 36.30627035126849],
                  [30.475654881374, 36.30820702612387]]]),
            {
              "class": 0,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[30.450664939990247, 36.33004004459235],
                  [30.450235786547864, 36.328449653600025],
                  [30.451780738940442, 36.32838050542918],
                  [30.452295723071302, 36.32976345718647]]]),
            {
              "class": 0,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[30.460955155497913, 36.406096328122416],
                  [30.460354340678578, 36.404369329704465],
                  [30.46181346238268, 36.404093006395435],
                  [30.462585938578968, 36.40540553336149]]]),
            {
              "class": 0,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[30.414680342069005, 36.40395484437242],
                  [30.414422850003575, 36.402780457258196],
                  [30.417169432034825, 36.40250412829892],
                  [30.41708360134635, 36.40374760087727]]]),
            {
              "class": 0,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[30.310854439442437, 36.43656169327728],
                  [30.31179857701568, 36.434697264915215],
                  [30.313429360096734, 36.43552590527211],
                  [30.31300020665435, 36.4366997973002]]]),
            {
              "class": 0,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[30.404223883073882, 36.43739972857759],
                  [30.404223883073882, 36.43588058450976],
                  [30.40602632753189, 36.436018689744685],
                  [30.406112158220367, 36.43746877987413]]]),
            {
              "class": 0,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[30.42799898378189, 36.43284220716799],
                  [30.427655661027984, 36.431461087239406],
                  [30.428857290666656, 36.43111580341761],
                  [30.429200613420562, 36.43263504074528]]]),
            {
              "class": 0,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[30.455767156979732, 36.41716630299222],
                  [30.455252172848873, 36.41585397471962],
                  [30.457226278683834, 36.41564676296539],
                  [30.457655432126217, 36.41668281620846]]]),
            {
              "class": 0,
              "system:index": "9"
            })]);
/***** End of imports. If edited, may not auto-convert in the playground. *****/
/*
Author: Samet Aksoy
Mail: aksoysa@itu.edu.tr
*/
var center_lon = 30.350902;
var center_lat = 36.373952;
var bands = ['B2', 'B3', 'B4', 'B8', 'B11', 'B12'];
var roi = ee.Geometry.Polygon([[center_lon-0.05, center_lat-0.07], [center_lon+0.13, center_lat-0.07], [center_lon+0.13, center_lat+0.07], [center_lon-0.05, center_lat+0.07]]);
Map.setCenter(center_lon,center_lat, 12);

var image = GetImage('COPERNICUS/S2', '2016-07-11', '2016-07-12', roi).select(bands);
var points = yanmis.merge(yanmamis);
var training = image.sampleRegions({
  collection: points,
  properties: ['class'],
  scale: 30
});

var trained = ee.Classifier.cart().train(training, 'class', bands);

// Classify the image with the same bands used for training.
var classified = image.select(bands).classify(trained);

var Palette = [
  'FFFFFF',
  'FF0000',
];
Map.addLayer(classified, {min: 0, max: 1, palette: Palette}, 'classified');
//Map.addLayer(image, {min:0,max:3000, bands:['B4','B3','B2']}, 'RGB');


/*Export.image.toDrive({
  image: mosaic,
  description: 'SentinelDNBR',
  scale: 10
});*/
function GetImage(collect, date1, date2, clp) {
  return ee.ImageCollection(collect).filterDate(date1, date2).mosaic().clip(clp);
}
